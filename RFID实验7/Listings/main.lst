C51 COMPILER V9.60.0.0   MAIN                                                              04/15/2025 09:55:14 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          /******************************************************************/
   2          #include  "STC8G.h"       //主控芯片的头文件
   3          /************************常用数据类型定义*************************/
   4          #define u8  uint8_t
   5          #define u16 uint16_t
   6          #define u32 uint32_t
   7          typedef unsigned char    uint8_t;
   8          typedef unsigned int     uint16_t;
   9          typedef unsigned long    uint32_t;
  10          /************************端口/引脚定义区域************************/
  11          sbit KEY1=P3^4;           //按键1 
  12          sbit KEY2=P3^3;           //按键2
  13          /************************用户自定义数据区域***********************/
  14          #define FOSC 11059200UL   //系统外部时钟频率（无符号长整型）
  15          #define BAUD 9600         //欲配置的串口通信波特率值
  16          /**************************函数声明区域***************************/
  17          void delay(u16 Count);    //延时函数
  18          void IO_init(void);       //IO初始化函数
  19          void UART_init(void);     //串口初始化函数
  20          void SendData(u8 dat);    //串口发送单字节数据函数
  21          void SendString(u8 *s);   //串口发送字符串函数
  22          /***************************主函数区域****************************/
  23          
  24          
  25          
  26          
  27          
  28          /****************************************************************/
  29          //延时函数delay()，有形参Count用于控制延时函数执行次数，无返回值
  30          /****************************************************************/
  31          void delay(u16 Count)
  32          {
  33   1        u8 i,j;
  34   1        while (Count--)
  35   1        {
  36   2          for(i=0;i<50;i++)
  37   2            for(j=0;j<20;j++);
  38   2        }
  39   1      }
  40          /****************************************************************/
  41          //IO初始化函数IO_Init()，无形参，无返回值
  42          /****************************************************************/
  43          void IO_init(void)
  44          {
  45   1        //配置P3.3-4为准双向/弱上拉模式
  46   1        P3M0&=0xE7;     //P3M0.3-4=0
  47   1        P3M1&=0xE7;     //P3M1.3-4=0
  48   1        delay(10);      //等待I/O模式配置稳定
  49   1      }
  50          /****************************************************************/
  51          //串口初始化函数UART_init()，无形参，无返回值
  52          /****************************************************************/
  53          
  54          
C51 COMPILER V9.60.0.0   MAIN                                                              04/15/2025 09:55:14 PAGE 2   

  55          /****************************************************************/
  56          //串口发送单字节数据SendData()，有形参dat用于接收欲发送的单字节
  57          //数据，无返回值
  58          /****************************************************************/
  59          
  60          
  61          
  62          
  63          
  64          /****************************************************************/
  65          //串口发送字符串函数SendString()，有形参*s属于指针变量，用于指向
  66          //要发送的字符串首字节，通过指针的自增，逐一取出字符依次发送直至
  67          //字符串结束标志'\0',无返回值
  68          /****************************************************************/
  69          
  70          
  71          
  72          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     54    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
