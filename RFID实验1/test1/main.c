#include	"STC8G.h"				//????????
/***************************????????*************************/
#define u8  uint8_t
#define u16 uint16_t
#define u32 uint32_t
typedef unsigned char    uint8_t;
typedef unsigned int     uint16_t;
typedef unsigned long    uint32_t;
/***************************??/??????************************/
sbit RLY=P5^5;            //???????
sbit KEY1=P3^4;           //??1
sbit KEY2=P3^3;           //??2
/*****************************??????***************************/
void delay(u16 Count);		//????
void IO_init(void);       //IO?????
void KEY_Prosser(void);   //??????
/*****************************??????***************************/
void main(void)
{
	IO_init();				//IO???
	while(1)	
	{
		KEY_Prosser();	//????
	}
}

void delay(u16 Count)
{
  u8 i,j;
  while (Count--)
  {
    for(i=0;i<50;i++)
      for(j=0;j<20;j++);
  }
}

void IO_init(void)
{
	//??P3.3-4????/?????
	P3M0&=0xE7;			//P3M0.3-4=0
	P3M1&=0xE7;			//P3M1.3-4=0
	//??P5.5???/?????
	P5M0|=0x20;			//P5M0.5=1
	P5M1&=0xDF;			//P5M1.5=0
	RLY=0;					//?????
	delay(10);			//??I/O??????
}

void KEY_Prosser(void)
{
	if(KEY1==0)			//KEY1???
	{
		delay(5);			//????“??”
		if(KEY1==0)		//KEY1?????
		{
			RLY=1;			//?????
		}
		while(!KEY1);	//????
	}
	if(KEY2==0)			//KEY2???
	{
		delay(5);			//????“??”
		if(KEY2==0)		//KEY2?????
		{
			RLY=0;			//?????
		}
		while(!KEY2);	//????
	} 
}
